(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{4263:function(e,a,t){Promise.resolve().then(t.bind(t,6448))},6448:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var s=t(7437),l=t(2265),i=t(7648),r=t(7229),n=t(2869),o=t(5186),d=t(6818),c=t(3647);let m=(0,t(9205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function u(){let[e,a]=(0,l.useState)({planName:"",planGoal:"Strength",durationWeeks:1,description:""}),[t,u]=(0,l.useState)([]),[h,p]=(0,l.useState)(!1),[x,b]=(0,l.useState)([]),[v,g]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("http://localhost:5000","/api/exercise/getMeals"));if(console.log(e),e.ok){let a=await e.json();g(a)}let a=await fetch("".concat("http://localhost:5000","/api/exercise/getActivities"));if(console.log(a),a.ok){let e=await a.json();console.log("Fetched activities:",e),b(e)}}catch(e){console.error("Error fetching activities and meals:",e)}})()},[]),(0,l.useEffect)(()=>{console.log("Available activities in state:",x)},[x]),(0,l.useEffect)(()=>{console.log("Available meals in state:",v)},[v]);let f=async a=>{a.preventDefault(),p(!0);try{let a=await fetch("".concat("http://localhost:5000","/api/exercise/createCustomPlan"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planDetails:e,weeks:t})});if(!a.ok)throw Error("Failed to save plan");await a.json()}catch(e){console.error("Error saving plan:",e)}finally{p(!1)}},j=e=>{let a=[...t];a[e].activities.push({timeOfDay:"Morning",name:"",duration:0}),u(a)},N=e=>{let a=[...t];a[e].meals.push({timeOfDay:"Breakfast",name:"",nutrition:"",purpose:""}),u(a)};return(0,s.jsx)(r.C,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-[#FFF8F0] to-white relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-r from-[#75B5AE]/40 to-[#F1C0C9]/40 rounded-full opacity-40 animate-blob"}),(0,s.jsx)("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-l from-[#75B5AE]/40 to-[#F1C0C9]/40 rounded-full opacity-40 animate-blob animation-delay-2000"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 w-full h-full bg-gradient-to-b from-[#75B5AE]/40 to-[#F1C0C9]/40 rounded-full opacity-40 animate-blob animation-delay-4000"})]}),(0,s.jsx)("div",{className:"relative z-10 p-4 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(n.z,{variant:"ghost",asChild:!0,children:(0,s.jsxs)(i.default,{href:"/nutrition-exercise",className:"flex items-center text-[#2C3E50] hover:text-[#75B5AE]",children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Go Back to Plans"]})})}),(0,s.jsxs)("div",{className:"bg-white/80 rounded-3xl p-6 md:p-8 shadow-lg border border-[#75B5AE]/10",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-[#2C3E50]",children:["Create Your ",(0,s.jsx)("span",{className:"bg-gradient-to-r from-[#75B5AE] via-[#F1C0C9] to-[#75B5AE] text-transparent bg-clip-text bg-size-200 animate-gradient",children:"Custom Plan"})]}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Tell us about your goals and preferences for a tailored postpartum recovery plan."})]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"planName",className:"text-sm font-medium text-[#2C3E50]",children:"Plan Name"}),(0,s.jsx)(o.I,{id:"planName",name:"planName",value:e.planName,onChange:t=>a({...e,planName:t.target.value}),required:!0,className:"bg-white/50 border-[#75B5AE]/20 focus:border-[#75B5AE] focus:ring-[#75B5AE]"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"planGoal",className:"text-sm font-medium text-[#2C3E50]",children:"Plan Goal"}),(0,s.jsxs)(c.Ph,{onValueChange:t=>a({...e,planGoal:t}),value:e.planGoal,children:[(0,s.jsx)(c.i4,{className:"bg-white/50 border-[#75B5AE]/20 hover:border-[#75B5AE] focus:ring-[#75B5AE]",children:(0,s.jsx)(c.ki,{placeholder:"Select goal"})}),(0,s.jsxs)(c.Bw,{side:"bottom",className:"bg-white/95 border-[#75B5AE]/20 shadow-md",children:[(0,s.jsx)(c.Ql,{value:"Strength",className:"hover:bg-[#75B5AE]/10 focus:bg-[#75B5AE]/10",children:"Strength"}),(0,s.jsx)(c.Ql,{value:"Recovery",className:"hover:bg-[#75B5AE]/10 focus:bg-[#75B5AE]/10",children:"Recovery"}),(0,s.jsx)(c.Ql,{value:"Weight Loss",className:"hover:bg-[#75B5AE]/10 focus:bg-[#75B5AE]/10",children:"Weight Loss"}),(0,s.jsx)(c.Ql,{value:"Endurance",className:"hover:bg-[#75B5AE]/10 focus:bg-[#75B5AE]/10",children:"Endurance"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"durationWeeks",className:"text-sm font-medium text-[#2C3E50]",children:"Duration (Weeks)"}),(0,s.jsx)(o.I,{id:"durationWeeks",name:"durationWeeks",type:"number",value:e.durationWeeks,onChange:t=>a({...e,durationWeeks:parseInt(t.target.value)}),required:!0,className:"bg-white/50 border-[#75B5AE]/20 focus:border-[#75B5AE] focus:ring-[#75B5AE]"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"description",className:"text-sm font-medium text-[#2C3E50]",children:"Plan Description"}),(0,s.jsx)(d.g,{id:"description",name:"description",value:e.description,onChange:t=>a({...e,description:t.target.value}),placeholder:"Any other details you'd like us to consider for your plan",rows:4,className:"bg-white/50 border-[#75B5AE]/20 focus:border-[#75B5AE] focus:ring-[#75B5AE]"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-[#2C3E50]",children:"Weeks & Activities"}),(0,s.jsx)(n.z,{type:"button",onClick:()=>{u([...t,{description:"",activities:[],meals:[]}])},className:"w-full py-6 text-lg rounded-xl bg-gradient-to-r from-[#75B5AE] to-[#F1C0C9] text-white hover:opacity-90 transition-all duration-300",children:"Add Week"})]}),t.map((e,a)=>(0,s.jsxs)("div",{className:"border rounded-md p-4 mb-4",children:[(0,s.jsxs)("h4",{className:"text-lg font-medium mb-3",children:["Week ",a+1]}),(0,s.jsx)("textarea",{placeholder:"Week Description",className:"w-full rounded-md border border-gray-300 p-2 mb-4",rows:2,value:e.description,onChange:e=>{let s=[...t];s[a].description=e.target.value,u(s)}}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h5",{className:"font-medium mb-2",children:"Activities"}),(0,s.jsx)(n.z,{type:"button",onClick:()=>j(a),className:"bg-gray-600 text-white px-3 py-1 rounded-md hover:bg-gray-700 mb-2",children:"Add Activity"}),e.activities.map((e,l)=>(0,s.jsxs)("div",{className:"border rounded-md p-3 mb-2",children:[(0,s.jsxs)("select",{className:"w-full rounded-md border border-gray-300 p-2 mb-2",value:e.timeOfDay,onChange:e=>{let s=[...t];s[a].activities[l].timeOfDay=e.target.value,u(s)},children:[(0,s.jsx)("option",{value:"Morning",children:"Morning"}),(0,s.jsx)("option",{value:"Mid-Day",children:"Mid-Day"}),(0,s.jsx)("option",{value:"Afternoon",children:"Afternoon"}),(0,s.jsx)("option",{value:"Evening",children:"Evening"})]}),(0,s.jsxs)(c.Ph,{value:e.name,onValueChange:e=>{let s=[...t],i=x.find(a=>a.activity_name===e);i&&(s[a].activities[l]={...s[a].activities[l],name:e,duration:i.duration_mins||0},u(s))},children:[(0,s.jsx)(c.i4,{className:"w-full mb-2",children:(0,s.jsx)(c.ki,{placeholder:"Select an activity"})}),(0,s.jsx)(c.Bw,{side:"bottom",children:x.map(e=>(0,s.jsx)(c.Ql,{value:e.activity_name,children:e.activity_name},e.id))})]}),(0,s.jsx)("input",{type:"number",placeholder:"Duration (mins)",className:"w-full rounded-md border border-gray-300 p-2",value:e.duration,onChange:e=>{let s=[...t];s[a].activities[l].duration=parseInt(e.target.value),u(s)}})]},l))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"font-medium mb-2",children:"Meals"}),(0,s.jsx)(n.z,{type:"button",onClick:()=>N(a),className:"bg-gray-600 text-white px-3 py-1 rounded-md hover:bg-gray-700 mb-2",children:"Add Meal"}),e.meals.map((e,l)=>(0,s.jsx)("div",{className:"border rounded-md p-3 mb-2",children:(0,s.jsxs)("div",{className:"space-y-3 ",children:[(0,s.jsxs)(c.Ph,{value:e.name,onValueChange:e=>{let s=[...t],i=v.find(a=>a.meal_name===e);i&&(s[a].meals[l]={...s[a].meals[l],name:i.meal_name,nutrition:i.nutritional_value,purpose:i.purpose},u(s))},children:[(0,s.jsx)(c.i4,{className:"w-full border-[#75B5AE]/20 hover:border-[#75B5AE] focus:ring-[#75B5AE] text-black",children:(0,s.jsx)(c.ki,{placeholder:"Select a meal"})}),(0,s.jsx)(c.Bw,{side:"top",children:v.map(e=>(0,s.jsx)(c.Ql,{value:e.meal_name,className:"",children:e.meal_name},e.meal_id))})]}),(0,s.jsx)("input",{type:"text",placeholder:"Nutritional Value",className:"w-full rounded-md border border-[#75B5AE]/20 p-2 bg-white/50",value:e.nutrition,readOnly:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Purpose",className:"w-full rounded-md border border-[#75B5AE]/20 p-2 bg-white/50",value:e.purpose,readOnly:!0})]})},l))]})]},a)),(0,s.jsx)(n.z,{type:"submit",className:"w-full py-6 text-lg rounded-xl bg-gradient-to-r from-[#75B5AE] to-[#F1C0C9] text-white hover:opacity-90 transition-all duration-300",children:"Save Plan"})]})]})]})})]})})}}},function(e){e.O(0,[569,994,113,922,709,971,117,744],function(){return e(e.s=4263)}),_N_E=e.O()}]);